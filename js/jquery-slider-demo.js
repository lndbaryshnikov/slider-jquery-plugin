!function(t){var e={};function s(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=13)}([function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(){this.observers=[]}addObserver(t){if("function"!=typeof t)throw new Error("Observer must be a function");for(let e=0;e<this.observers.length;e+=1)if(this.observers[e].toString()===t.toString())throw new Error("Observer already in the list");this.observers.push(t)}removeObserver(t){for(let e=0;e<this.observers.length;e+=1)if(this.observers[e].toString()===t.toString())return void this.observers.splice(e,1);throw new Error("Could not find observer in list of observers")}notifyObservers(t){const e=this.observers.slice(0);for(let s=0;s<e.length;s+=1)e[s](t)}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=t=>{const e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset,bottom:e.bottom+window.pageYOffset,left:e.left+window.pageXOffset,right:e.right+window.pageXOffset,width:e.width,height:e.height}}},function(t,e){t.exports=jQuery},function(t,e,s){"use strict";(function(t){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=i(s(4)),o=i(s(0));class r{constructor(){this._incorrectOptionsReceivedSubject=new o.default,this._optionsSetSubject=new o.default,this._valueUpdatedSubject=new o.default,this._options=null,this._classes={slider:{main:"jquery-slider",orientation:t=>`jquery-slider-${t}`,complete:t=>`jquery-slider jquery-slider-${t}`,horizontal:"jquery-slider-horizontal",vertical:"jquery-slider-vertical"},range:"jquery-slider-range",firstHandle:"jquery-slider-handle"}}whenOptionsAreIncorrect(t){this._incorrectOptionsReceivedSubject.addObserver(e=>{t(e)})}whenOptionsSet(t){this._optionsSetSubject.addObserver(()=>{t()})}whenValueUpdated(t){this._valueUpdatedSubject.addObserver(()=>{t()})}static get optionsErrors(){return r._optionsErrors}static getDefaultOptions(t){const e=t||"horizontal";let s;return"horizontal"===e&&(s={"jquery-slider jquery-slider-horizontal":"","jquery-slider-range":"","jquery-slider-handle":""}),"vertical"===e&&(s={"jquery-slider jquery-slider-vertical":"","jquery-slider-range":"","jquery-slider-handle":""}),{min:0,max:100,step:1,value:0,orientation:e,range:!1,tooltip:!1,animate:"fast",pips:!1,labels:!1,change:!1,classes:s}}refreshValue(t){let e=t[0];const s=t[1];if(e<this._options.min&&(e=this._options.min),e>this._options.max&&(e=this._options.max),"number"==typeof this._options.value&&!0!==this._options.range&&(this._options.value=e),Array.isArray(this._options.value)&&!0===this._options.range){const t="first"===s?1:0,i=this._options.value;if(e===i[t]){e+=("first"===s?-1:1)*this._options.step}i["first"===s?0:1]=e}this._valueUpdatedSubject.notifyObservers()}destroy(){this._options||this._throw(r._optionsErrors.notSet),this._options=null}getOptions(t,e){const s=r._optionsErrors;if(!this._options)this._throw(r._optionsErrors.notSet);else{if(!t&&!e)return this._options;if(t){if(!(t in this._options))return void this._throw(s.options.notExisting(t));const i=[this._classes.slider.main,this._classes.range,this._classes.firstHandle];if(e&&!i.includes(e))return void this._throw(s.classes.notExisting(e));const n="classes"===t;if(t&&!!e&&!n)return void this._throw(s.classes.contains);if(t&&!e)return this._options[t];const o=e===this._classes.slider.main?this._classes.slider.complete(this._options.orientation):e;return this._options.classes[o]}}}setOptions(t,...e){const s=r._optionsErrors,i=0!==e.length,n="string"==typeof t,o="object"==typeof t&&0===e.length,l=!t&&0===e.length;if(i&&n){if(!!!this._options)return void this._throw(r._optionsErrors.notSet);if(1===e.length||2===e.length){const s=this._extendBySingleOption(t,...e);if(!s.result)return!1;this._options=s.options,s.options=null,this._deleteWSFromUserCLasses()}}else if(o){const e=this._extendByOptionsObject(t);if(!e.result)return;this._options=e.options,this._deleteWSFromUserCLasses()}else{if(!l)return this._throw(s.incorrectOptions);if(!!this._options)return void this._throw(s.alreadySet);this._options=r.getDefaultOptions("horizontal")}this._optionsSetSubject.notifyObservers()}_extendByOptionsObject(e){let s;if(this._options){s=t.extend(!0,{},this._options);const i=!!e.orientation,n=e.orientation!==this._options.orientation;if(i&&n){const t=this._changeOrientationClass(s,"result",e.orientation);if(t.options=null,!t.result)return{result:!1}}const o=this._changeOrientationClass(e,"user",e.orientation?e.orientation:this._options.orientation);if(o.options=null,!o.result)return{result:!1}}else{s=r.getDefaultOptions(e.orientation);const t=this._changeOrientationClass(e,"user",e.orientation);if(t.options=null,!t.result)return{result:!1}}let i=t.extend(!0,{},s);const n=t.extend(!0,i,e);return i=null,this._checkOptions(n)?{options:n,result:!0}:{result:!1}}_extendBySingleOption(e,...s){const i=r.optionsErrors;if(!(e in this._options))return this._throw(i.options.notExisting(e)),{result:!1};const n=t.extend(!0,{},this._options);if(1===s.length){if("classes"===e&&"object"==typeof s[0]){const e=s[0];this._classes.slider.main in e&&(e[this._classes.slider.complete(this._options.orientation)]=e[this._classes.slider.main],delete e[this._classes.slider.main]),t.extend(n.classes,e)}else if("orientation"===e)s[0]!==n.orientation&&(this._changeOrientationClass(n,"result",s[0]),n[e]=s[0]);else if("min"===e||"max"===e){if("number"!=typeof s[0])return this._throw(i.options.incorrectType(e,"number")),{result:!1};if("number"==typeof this._options.value){const t="min"===e&&s[0]>this._options.value,n="max"===e&&s[0]<this._options.value;if(t||n)return this._throw(i.minAndMax.lessOrMore(e,"min"===e?"more":"less")),{result:!1}}if(Array.isArray(this._options.value)){const t="min"===e&&(s[0]>this._options.value[0]||s[0]>this._options.value[1]),n="max"===e&&(s[0]<this._options.value[0]||s[0]<this._options.value[1]);if(t||n)return this._throw(i.minAndMax.lessOrMore(e,"min"===e?"more":"less")),{result:!1}}n[e]=s[0]}else{const i={};i[e]=s[0],t.extend(n,i)}return this._checkOptions(n)?{result:!0,options:n}:{result:!1}}if(2===s.length){if("classes"!==e)return this._throw(i.classes.twoExtra),{result:!1};const t=[this._classes.slider.main,this._classes.range,this._classes.firstHandle];if("string"!=typeof s[0]||!t.includes(s[0]))return this._throw(i.classes.notExisting(s[0])),{result:!1};let o;return o=s[0]===this._classes.slider.main?this._classes.slider.complete(this._options.orientation):s[0],"string"!=typeof s[1]?(this._throw(i.classes.customIsNotString),{result:!1}):(n[e][o]=s[1],this._checkOptions(n)?{result:!0,options:n}:{result:!1})}}_checkOptions(t){const e=r.getDefaultOptions(t.orientation),s=r._optionsErrors,i=Object.keys(t),o=Object.keys(e);if(!n.default(i,o))return this._throw(s.incorrectOptionsObject),!1;let l;for(l in t.classes)if(Object.prototype.hasOwnProperty.call(t.classes,l)&&l.trim()!==l)return this._throw(s.classes.extraWs),!1;const a=Object.keys(t.classes),h=Object.keys(e.classes);if(!n.default(a,h))return this._throw(s.classes.incorrectType),!1;for(l in t.classes)if(Object.prototype.hasOwnProperty.call(t.classes,l)&&"string"!=typeof t.classes[l])return this._throw(s.options.incorrectType("classes","string")),!1;if(!((t,e,...i)=>{for(const n of i)if(typeof e[n]!==t)return this._throw(s.options.incorrectType(n,t)),!1;return!0})("number",t,"min","max","step"))return!1;if("number"!=typeof t.value&&!Array.isArray(t.value))return this._throw(s.value.incorrectType),!1;if("horizontal"!==t.orientation&&"vertical"!==t.orientation)return this._throw(s.orientation.incorrect),!1;if("min"!==t.range&&"max"!==t.range&&"boolean"!=typeof t.range)return this._throw(s.range.incorrect),!1;if(!0!==t.range&&Array.isArray(t.value)&&this._throw(s.value.rangeNotTrue),!0!==t.range||Array.isArray(t.value)||this._throw(s.value.rangeTrue),Array.isArray(t.value))for(const e of t.value){if(!(t.min<=e&&t.max>=e))return this._throw(s.value.beyond),!1}else{if(!(t.min<=t.value&&t.max>=t.value))return this._throw(s.value.beyond),!1}if(t.step>t.max-t.min||t.step<=0)return this._throw(s.step.incorrect),!1;if("boolean"!=typeof t.tooltip&&"function"!=typeof t.tooltip)return this._throw(s.tooltip.incorrect),!1;if("function"==typeof t.tooltip){const e=t.tooltip(t.value);if("number"!=typeof e&&"string"!=typeof e)return this._throw(s.tooltip.incorrectFunction),!1}if(!1!==t.animate&&"slow"!==t.animate&&"fast"!==t.animate&&"number"!=typeof t.animate)return this._throw(s.animate.incorrect),!1;if("boolean"!=typeof t.pips)return this._throw(s.pips.incorrect),!1;if("function"!=typeof t.labels&&"boolean"!=typeof t.labels)return this._throw(s.labels.incorrect),!1;if("function"==typeof t.labels){const e=t.labels(t.value);if("string"!=typeof e&&"number"!=typeof e)return this._throw(s.labels.incorrectFunction),!1}if("function"!=typeof t.change&&!1!==t.change)return this._throw(s.change.incorrect),!1;if("function"==typeof t.change){if(void 0!==(0,t.change)(t.value))return void this._throw(s.change.incorrectFunction)}return!0}_changeOrientationClass(t,e,s){const i={};if(Object.entries(t).forEach(([t,e])=>{i[t]=e}),void 0!==s&&"horizontal"!==s&&"vertical"!==s)return this._throw(r._optionsErrors.orientation.incorrect),{result:!1};const n=void 0===s?"horizontal":s,o="user"===e,l=!!i.classes&&!!i.classes[this._classes.slider.main];if(o&&l&&(i.classes[this._classes.slider.complete(n)]=i.classes[this._classes.slider.main],delete i.classes[this._classes.slider.main]),"result"===e){let t;const e=[];for(t in i.classes)Object.prototype.hasOwnProperty.call(i.classes,t)&&(e.push(i.classes[t]),delete i.classes[t]);[i.classes[this._classes.slider.complete(n)],i.classes[this._classes.range],i.classes[this._classes.firstHandle]]=e}return{result:!0,options:i}}_deleteWSFromUserCLasses(){const{classes:t}=this._options;Object.keys(this._options.classes).forEach(t=>{Object.prototype.hasOwnProperty.call(this._options.classes,t)&&""!==this._options.classes[t]&&(this._options.classes[t]=this._options.classes[t].trim().replace(/\s+/g," "))})}_throw(t){this._incorrectOptionsReceivedSubject.notifyObservers(t)}}r._optionsErrors={notSet:"Options are not set (to set options pass options object)",alreadySet:"Options are already set (to change - provide options)",incorrectOptions:"Incorrect options (should be object or key - value pairs)",incorrectOptionsObject:"Options are incorrect (should correspond the required format)",options:{notExisting:t=>`Option "${t}" doesn't exist`,incorrectType:(t,e)=>`Options are incorrect (option '${t}' should be of type '${e}')`},classes:{notExisting:t=>`Class "${t}" does not exist`,contains:"Only option 'classes' contains classes",twoExtra:"Only option 'classes' can have two extra arguments",customIsNotString:"Class is incorrect (should be a string)",extraWs:"Options are incorrect (main classes shouldn't have extra whitespaces)",incorrectType:"Options are incorrect (classes should correspond the required format)"},value:{beyond:"Options are incorrect ('value' cannot go beyond 'min' and 'max')",incorrectType:"Options are incorrect ('value' can only be of type 'number' or 'array')",incorrectArray:"Options are incorrect ('value' array should contain two numbers)",rangeNotTrue:"Options are incorrect (array is allowed for 'value' when 'range' is true)",rangeTrue:"Options are incorrect ('value' should be array when 'range' is true)"},minAndMax:{lessOrMore:(t,e)=>`Options are incorrect (option '${t}' cannot be ${e} than 'value')`},orientation:{incorrect:"Options are incorrect (for orientation only 'vertical' and 'horizontal' values are allowed)"},range:{incorrect:"Options are incorrect (option 'range' can only be 'min', 'max' or typeof 'boolean')"},step:{incorrect:"Options are incorrect (option 'step' value should be between 'min' and 'max')"},tooltip:{incorrect:"Options are incorrect (option 'tooltip' should be boolean true or false, or function)",incorrectFunction:"Options are incorrect ('tooltip's function should return string or number)"},animate:{incorrect:"Options are incorrect (option 'animate' should be 'false', 'slow', 'fast' or number)"},labels:{incorrect:"Options are incorrect (option 'labels' can only be true false, or function returning string or number)",incorrectFunction:"Options are incorrect ('labels' function should return string or number)"},pips:{incorrect:"Options are incorrect (option 'pips' should be true or false)"},change:{incorrect:"Options are incorrect (option 'change' can be only function or false)",incorrectFunction:"Options are incorrect ('change' function has two arguments and return undefined)"}},e.default=r}).call(this,s(2))},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=(t,e)=>{if(!t||!e)return!1;if(t.length!==e.length)return!1;for(let s=0;s<t.length;s+=1)if(t[s]instanceof Array&&e[s]instanceof Array){if(!i(t[s],e[s]))return!1}else if(t[s]!==e[s])return!1;return!0};e.default=i},function(t,e,s){"use strict";(function(t){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=s(6),o=i(s(1)),r=i(s(0));e.default=class{constructor(){this._html=null,this._root=null,this._options=null,this._classesHash=null,this._handlesPositionInPixels=null,this._data={rendered:!1},this._eventListeners={handleMoving:{handleMouseDown:t=>{let e;const s=t.target,{orientation:i}=this._options,n=!0===this._options.range,o=s===this._html.firstHandle,r=s===this._html.secondHandle;if(!n&&o&&(e=this._getCoords().wrapper),n){e=this._getCoords().wrapper;const t=this._getCoords().firstHandle,s=this._getCoords().secondHandle;o&&("horizontal"===i&&(e.right=s.left-t.width/2,e.width=e.right-e.left),"vertical"===i&&(e.top=s.bottom+t.height/2,e.height=e.bottom-e.top)),r&&("horizontal"===i&&(e.left=t.right+s.width/2,e.width=e.right-e.left),"vertical"===i&&(e.bottom=t.top-s.height/2,e.height=e.bottom-e.top))}let l;o&&(l="first"),r&&(l="second");const a=this._countHandleShift(t,l),h=t=>{if("horizontal"===this._options.orientation){const s=a.x;let i=t.pageX-s-e.left;i<0-this._getCoords().firstHandle.width/2&&(i=0-this._getCoords().firstHandle.width/2);const n=e.width-this._getCoords().firstHandle.width;i>n+this._getCoords().firstHandle.width/2&&(i=n+this._getCoords().firstHandle.width/2);const o=e.left+i+this._getCoords().firstHandle.width/2;this.refreshValue(o,l)}if("vertical"===this._options.orientation){const s=a.y;let i=t.pageY-s-e.top;i<0-this._getCoords().firstHandle.height/2&&(i=0-this._getCoords().firstHandle.height/2);const n=e.height-this._getCoords().firstHandle.height;i>n+this._getCoords().firstHandle.height/2&&(i=n+this._getCoords().firstHandle.height/2);const o=i+this._getCoords().firstHandle.height/2+e.top;this.refreshValue(o,l)}};document.addEventListener("mousemove",h);const c=()=>{document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",c)};return document.addEventListener("mouseup",c),!1},handleOnDragStart:()=>!1},sliderClick:t=>{if(t.target===this._html.firstHandle||t.target===this._html.secondHandle)return;let e,s="first";"horizontal"===this._options.orientation&&(e=t.pageX),"vertical"===this._options.orientation&&(e=t.pageY),!0===this._options.range&&(s=this._getClosestHandleNumber(e)),this.refreshValue(e,s)}},this._valueChangedSubject=new r.default}whenValueChanged(t){this._valueChangedSubject.addObserver(e=>{t(e)})}get html(){return this._html}get value(){return this._options.value}render(t){this._root=t,this._root.append(this._html.wrapper),this._data.rendered=!0,this._setHandlePositionInPixels(),this._renderOptions()}destroy(){this._html=void 0,this._root=void 0,this._options=void 0,this._handlesPositionInPixels=void 0,this._data.rendered=!1}cleanDom(){(!!this._root||this._root.contains(this._html.wrapper))&&this._html.wrapper.remove(),this._data.rendered=!1}setOptions(t){this._options=t;const e=this._data.rendered;let s=null;e&&(s=this._root,this.cleanDom()),this._setSliderElements(),this._setHandleMovingHandler(),this._setSliderClickHandler(),this._setSliderClasses(),this._setTransition(),this._setHandlePositionInPixels(),e&&this.render(s)}updateHandlePosition(t){this._options.value=t,this._setHandlePositionInPixels(),this._renderHandlePositions(),this._renderRange()}renderPlugin(t,e,s){if("labels"===t&&e.render(this._html.wrapper),"tooltip"===t){const t=s||"first",i=this._html.firstHandle.contains(e.html);"first"===t&&(i||e.render(this._html.firstHandle)),"second"===t&&this._html.secondHandle&&!i&&e.render(this._html.secondHandle)}}destroyPlugin(t,e){"labels"!==t&&"tooltip"!==t||e.destroy()}refreshValue(t,e){let s;s=e||(!0!==this._options.range?"first":this._getClosestHandleNumber(t));const i=this._options.max-this._options.min,{orientation:n}=this._options,o=this._getCoords().wrapper,r="horizontal"===n,l=r?o.left:o.top;if(t>(r?o.right:o.bottom))return void this._valueChangedSubject.notifyObservers([r?this._options.max:this._options.min,s]);if(t<l)return void this._valueChangedSubject.notifyObservers([r?this._options.min:this._options.max,s]);const a="horizontal"===n?t-o.left:o.height-(t-o.top),h=(()=>{const t=[];for(let e=this._options.min;e<=this._options.max;e+=this._options.step)t.push(e);return t})(),c=("horizontal"===this._options.orientation?a/this._getCoords().wrapper.width:a/this._getCoords().wrapper.height)*i+this._options.min;let d;for(let t=0;t<h.length;t+=1)if(c>=h[t]&&c<=h[t+1]){d=c-h[t]<h[t+1]-c?h[t]:h[t+1];break}this._valueChangedSubject.notifyObservers([d,s])}_renderOptions(){this._data.rendered&&(this._renderHandlePositions(),this._renderRange())}_setHandleMovingHandler(){const t=t=>{t.addEventListener("mousedown",this._eventListeners.handleMoving.handleMouseDown),t.ondragstart=this._eventListeners.handleMoving.handleOnDragStart};t(this._html.firstHandle),!0===this._options.range&&t(this._html.secondHandle)}_setSliderClickHandler(){this._html.wrapper.addEventListener("click",this._eventListeners.sliderClick)}_renderHandlePositions(){const t=t=>{const e="first"===t?this._html.firstHandle:this._html.secondHandle,s="first"===t?this._getCoords().firstHandle:this._getCoords().secondHandle,i=this._handlesPositionInPixels["first"===t?0:1];"horizontal"===this._options.orientation&&(e.style.left=`${i-s.width/2}px`),"vertical"===this._options.orientation&&(e.style.bottom=`${i-s.height/2}px`)};t("first"),!0===this._options.range&&t("second")}_renderRange(){const t=this._handlesPositionInPixels,e=this._getCoords().wrapper;"horizontal"===this._options.orientation&&("min"===this._options.range&&(this._html.range.style.left="0px",this._html.range.style.width=`${t[0]}px`),"max"===this._options.range&&(this._html.range.style.right="0px",this._html.range.style.width=`${e.width-t[0]}px`),!0===this._options.range&&(this._html.range.style.left=`${t[0]}px`,this._html.range.style.right=`${t[1]}px`,this._html.range.style.width=`${t[1]-t[0]}px`)),"vertical"===this._options.orientation&&("min"===this._options.range&&(this._html.range.style.bottom="0px",this._html.range.style.height=`${t[0]}px`),"max"===this._options.range&&(this._html.range.style.top="0px",this._html.range.style.height=`${e.height-t[0]}px`),!0===this._options.range&&(this._html.range.style.top=`${e.height-t[1]}px`,this._html.range.style.bottom=`${t[0]}px`,this._html.range.style.height=`${t[0]-t[1]}px`))}_setSliderClasses(){const e=Object.keys(this._options.classes),s=e[0],i=e[1],n=e[2];this._html.wrapper.setAttribute("class",s),this._html.range.setAttribute("class",i),this._html.firstHandle.setAttribute("class",n),this._html.wrapper.style.position="relative",this._html.range.style.position="absolute",this._html.firstHandle.style.position="absolute",t(this._html.wrapper).addClass(this._options.classes[s]),t(this._html.range).addClass(this._options.classes[i]),t(this._html.firstHandle).addClass(this._options.classes[n]),this._html.secondHandle&&(this._html.secondHandle.setAttribute("class",n),this._html.secondHandle.style.position="absolute",t(this._html.secondHandle).addClass(this._options.classes[n]))}_setTransition(){const{animate:t}=this._options,e="horizontal"===this._options.orientation?"left":"bottom",s="fast"===t?300:"slow"===t?700:"number"==typeof t?t:0;this._html.firstHandle.style.transition=`${e} ${s}ms`,this._html.range.style.transition=`${s}ms`;const i=t=>{t.addEventListener("mousedown",()=>{t.style.transition="0ms",this._html.range.style.transition="0ms"}),document.addEventListener("mouseup",()=>{t.style.transition=`${e} ${s}ms`,this._html.range.style.transition=`${s}ms`})};i(this._html.firstHandle),!0===this._options.range&&i(this._html.secondHandle)}_setHandlePositionInPixels(){if(!this._data.rendered)return;this._handlesPositionInPixels=null,this._handlesPositionInPixels=[];const t=this._options.max-this._options.min,e=t=>{this._handlesPositionInPixels.push("horizontal"===this._options.orientation?this._getCoords().wrapper.width*t:this._getCoords().wrapper.height*t)};if(e(((!0===this._options.range?this._options.value[0]:this._options.value)-this._options.min)/t),!0===this._options.range){e((this._options.value[1]-this._options.min)/t)}}_setSliderElements(){const t=!0===this._options.range?document.createElement("div"):null;this._html={wrapper:document.createElement("div"),range:document.createElement("div"),firstHandle:document.createElement("div"),secondHandle:t},this._html.wrapper.append(this._html.range),this._html.wrapper.append(this._html.firstHandle),!0===this._options.range&&this._html.wrapper.append(this._html.secondHandle)}_countHandleShift(t,e){const s="first"===e?this._html.firstHandle:this._html.secondHandle;return n.getShift(t,s)}_hasClassesChanged(){if(!this._classesHash)return!0;const{classes:t}=this._options,e=this._classesHash;return Object.keys(this._options.classes).forEach(s=>{if(Object.prototype.hasOwnProperty.call(this._options.classes,s)&&!(s in e&&t[s]===e[s]))return!0}),!1}_getCoords(){return{wrapper:o.default(this._html.wrapper),range:o.default(this._html.range),firstHandle:o.default(this._html.firstHandle),secondHandle:!0===this._options.range?o.default(this._html.secondHandle):null}}_getClosestHandleNumber(t){let e;if(!0===this._options.range){if("horizontal"===this._options.orientation){const s=this._getCoords().firstHandle.right,i=this._getCoords().secondHandle.left;if(t<i&&t>s){e=t-s>i-t?"second":"first"}t<s&&(e="first"),t>i&&(e="second")}if("vertical"===this._options.orientation){const s=this._getCoords().firstHandle.top,i=this._getCoords().secondHandle.bottom;if(t>i&&t<s){e=s-t>t-i?"second":"first"}t>s&&(e="first"),t<i&&(e="second")}return e}}}}).call(this,s(2))},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=i(s(1));e.getShift=(t,e)=>{const s=n.default(e);return{x:t.pageX-s.left,y:t.pageY-s.top}}},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=i(s(8)),o=i(s(3));class r{constructor(t,e){this._view=t,this._model=e,this._data={setUp:!1,rendered:!1},this._pluginsFactory=new n.default,this._plugins={tooltipView:{first:this._pluginsFactory.createView("tooltip"),second:this._pluginsFactory.createView("tooltip")},labelsView:this._pluginsFactory.createView("labels")},this._model.whenOptionsSet(this.setOptionsToViewCallback()),this._model.whenOptionsAreIncorrect(r.showErrorMessageCallback()),this._view.whenValueChanged(this.validateValueCallback()),this._model.whenValueUpdated(this.renderHandlePositionCallback()),this._plugins.labelsView.whenUserClicksOnLabel(t=>{this._view.refreshValue(t)})}get view(){return this._view}get model(){return this._model}initialize(t,e){if(this._data.rendered)throw new Error("Slider is already initialized");this._data.setUp||this.setOptions(e),this._data.rendered||this.render(t)}setOptions(t,...e){this._model.setOptions(t,...e),this._data.setUp=!0}getOptions(t,e){if(!this._data.setUp)throw new Error(o.default.optionsErrors.notSet);return this._model.getOptions(t,e)}render(t){if(!this._data.setUp)throw new Error("Slider isn't setUp");if(this._data.rendered)throw new Error("Slider is already rendered");this._view.render(t);const e=this._plugins.tooltipView.first,s=this._plugins.tooltipView.second,{labelsView:i}=this._plugins;i.state.isSet&&this._view.renderPlugin("labels",i),e.state.isSet&&this._view.renderPlugin("tooltip",e,"first"),s.state.isSet&&this._view.renderPlugin("tooltip",s,"second"),this._data.rendered=!0}destroy(){if(!this._data.setUp)throw new Error("Slider isn't initialized yet");!1!==this._data.rendered&&this._view.cleanDom(),this._view.destroy(),this._model.destroy(),this._data.setUp=!1,this._data.rendered=!1}off(){if(!this._data.rendered)throw new Error("Slider isn't rendered");this._view.cleanDom(),this._data.rendered=!1}setOptionsToViewCallback(){return()=>{const t=this._model.getOptions();this._view.setOptions(t),this._toggleTooltip(t),this._toggleLabels(t)}}static showErrorMessageCallback(){return t=>{throw new Error(t)}}validateValueCallback(){return t=>{this._model.refreshValue(t)}}renderHandlePositionCallback(){return()=>{const t=this._model.getOptions(),{value:e}=t,{tooltip:s}=t,{range:i}=t,{change:n}=t,o=this._plugins.tooltipView.first,r=this._plugins.tooltipView.second;this._view.updateHandlePosition(e),o.state.isRendered&&o.setText(!0!==i?e:e[0],"function"==typeof s?s:null),r.state.isRendered&&r.setText(!0!==i?e:e[1],"function"==typeof s?s:null),n&&"function"==typeof n&&n(t.value)}}_toggleTooltip(t){const e=this._plugins.tooltipView.first,s=this._plugins.tooltipView.second;t.tooltip?(!0!==t.range?e.setOptions(t.value,t.orientation,"function"==typeof t.tooltip?t.tooltip:null):(e.setOptions(t.value[0],t.orientation,"function"==typeof t.tooltip?t.tooltip:null),s.setOptions(t.value[1],t.orientation,"function"==typeof t.tooltip?t.tooltip:null)),this._data.rendered&&(this._view.renderPlugin("tooltip",e,"first"),!0===t.range&&this._view.renderPlugin("tooltip",s,"second"))):e.state.isRendered&&(this._view.destroyPlugin("tooltip",e),!0===t.range&&s.state.isRendered&&this._view.destroyPlugin("tooltip",s))}_toggleLabels(t){const{labelsView:e}=this._plugins;if(t.labels||t.pips){const s={labels:"function"==typeof t.labels||t.labels,pips:t.pips,orientation:t.orientation,min:t.min,max:t.max,step:t.step};"function"==typeof t.labels&&(s.valueFunc=t.labels),e.setOptions(s),this._data.rendered&&this._view.renderPlugin("labels",e)}else e.state.isRendered&&this._view.destroyPlugin("labels",e)}}e.default=r},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=i(s(9)),o=i(s(10));e.default=class{createView(t){if("labels"===t)return new n.default;if("tooltip"===t)return new o.default;throw new Error("plugin doesn't exist")}}},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=i(s(1)),o=i(s(0));e.default=class{constructor(){this._root=null,this._html=null,this._labelClickedSubject=new o.default}get state(){return{isRendered:!(!this._root||!this._html),isSet:!(!this._options||!this._labels)}}get labels(){return this._labels}setOptions(t){if(!t.labels&&!t.pips)return;let e;this.state.isRendered&&(e=this._root,this.destroy()),this._options=t,this._createLabels(),this._setClasses(),this._options.labels&&this._setText(),this._setClickHandler(),e&&this.render(e)}render(t){this._root=t;const{orientation:e}=this._options,s="horizontal"===e?"width":"height",i="horizontal"===e?"left":"bottom",o=n.default(t)[s],r=document.createElement("div");r.setAttribute("class",`jquery-slider-labels-scale jquery-slider-labels-scale-${e}`),r.style.position="absolute",r.style[s]=`${o}px`;const l=this._getInterval(o);let a=0;this._root.append(r),this._labels.forEach(t=>{r.append(t);const e=n.default(t)[s];if(t.style[i]=`${a-e/2}px`,this._options.pips){const o=t.children[0],r=n.default(o)[s];o.style[i]=`${e/2-r/2}px`}a+=l}),this._html=r}remove(){this._root.removeChild(this._html),this._root=null,this._html=null}destroy(){this.state.isRendered&&this.remove(),this._labels=null,this._options=null}whenUserClicksOnLabel(t){this._labelClickedSubject.addObserver(e=>{t(e)})}_createLabels(){const t=[];for(let e=this._options.min;e<=this._options.max;e+=this._options.step)t.push(this._getLabel());this._labels=t}_getLabel(){const t=document.createElement("div"),e=document.createElement("div");return t.setAttribute("class","jquery-slider-label"),e.setAttribute("class","jquery-slider-pip"),t.style.position="absolute",e.style.position="absolute",this._options.pips&&t.append(e),t}_setClasses(){const{orientation:t}=this._options;(this._options.labels||this._options.pips)&&this._labels.forEach(e=>{if(e.setAttribute("class","jquery-slider-label"),e.classList.add(`jquery-slider-label-${t}`),this._options.pips){const s=e.children[0];s.setAttribute("class","jquery-slider-pip"),s.classList.add(`jquery-slider-pip-${t}`)}})}_setText(){if(!this._options.labels)return;const t=this._options.valueFunc;for(let e=0,s=this._options.min;e<this._labels.length;e+=1,s+=this._options.step){const i=this._labels[e];i.innerHTML+=String(t?t(s):s)}}_getInterval(t){return t/((this._options.max-this._options.min)/this._options.step)}_setClickHandler(){this._labels.forEach(t=>{t.addEventListener("click",()=>{const e=n.default(t),s="horizontal"===this._options.orientation?e.left+e.width/2:e.top+e.height/2;this._labelClickedSubject.notifyObservers(s)})})}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(){this._text=null,this._orientation=null,this._root=null,this._create()}get html(){return this._html}get text(){return this._text}get state(){return{isRendered:!!this._root,isSet:!(!this._orientation||!this._text)}}setOptions(t,e,s){this.setText(t,s),this.setOrientation(e)}render(t){this._root=t,this._root.append(this._html)}setText(t,e){this._text=e?e(t):t,this._html.innerHTML=String(this._text)}setOrientation(t){this._orientation=t,this._setOrientationClass()}cleanTextField(){this._text=null,this._html.innerHTML=""}remove(){this._root.removeChild(this._html),this._root=null}destroy(){this.state.isRendered&&this.remove(),this.cleanTextField(),this._orientation=null,this._root=null,this._html.className="jquery-slider-tooltip"}_create(){const t=document.createElement("div");t.setAttribute("class","jquery-slider-tooltip"),t.style.position="absolute",this._html=t}_setOrientationClass(){this._html.setAttribute("class","jquery-slider-tooltip"),"horizontal"===this._orientation?this._html.classList.add("jquery-slider-tooltip-horizontal"):"vertical"===this._orientation&&this._html.classList.add("jquery-slider-tooltip-vertical")}}},function(t,e,s){},,function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=i(s(14)),o=i(s(7)),r=i(s(3)),l=i(s(5));s(11),s(15),s(24),(()=>{const t=(t,e)=>{const s=document.createElement("div");return s.setAttribute("class",t),s.innerHTML=e||"",s},e=t("samples-wrapper"),s=t("header","slider-jquery-plugin demo page"),i=t("sign","Leonid Baryshnikov (GitHub: https://github.com/lndbaryshnikov)");document.body.append(s,e);const a=()=>new o.default(new l.default,new r.default);new n.default(a(),{range:"min",labels:!0,tooltip:!0,max:10,value:3,classes:{"jquery-slider":"slider"}},e).render(),new n.default(a(),{range:!0,orientation:"vertical",value:[3,8],max:10,labels:!0,tooltip:!0,classes:{"jquery-slider":"slider","jquery-slider-range":"slider__range_color_orange","jquery-slider-handle":"slider__handle_color_gray"}},e).render(),new n.default(a(),{range:"max",tooltip:!0,max:8,value:5,labels:!1,classes:{"jquery-slider":"slider","jquery-slider-handle":"slider__handle_color_white"}},e).render(),new n.default(a(),{range:"min",tooltip:!0,max:20,value:10,labels:!1,pips:!0,classes:{"jquery-slider":"slider","jquery-slider-range":"slider__range_color_orange","jquery-slider-handle":"slider__handle_color_white"}},e).render(),document.body.append(i)})()},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t,e,s){this._slider=t,this._root=s,this._wrapper=document.createElement("div"),this._wrapper.setAttribute("class","slider-demo"),this._slider.setOptions(e),this._createPanel(),this._slider.setOptions("change",t=>{const{firstInput:e}=this._configPanel.value,{secondInput:s}=this._configPanel.value;Array.isArray(t)?(e.value=String(t[0]),s.value=String(t[1])):e.value=String(t)}),this._addHandlers()}render(){this._root.append(this._wrapper);const t=document.createElement("div");t.setAttribute("class","slider-demo__slider"),this._wrapper.append(t),this._slider.render(t),this._wrapper.append(this._configPanel.wrapper)}_createPanel(){const t=(t,e)=>{const s=document.createElement(t);return s.setAttribute("class",`config-item__${e}`),s},e=this._slider.getOptions(),s=(s,i,n,o)=>{const r=document.createElement("div");r.setAttribute("class","config-item");const l=t("div","sign");if(l.innerHTML=i,r.append(l),"value"===s){const s=t("input","first-input"),i=t("input","second-input");r.append(s),r.append(i);const{value:n}=e;return s.value=String(Array.isArray(n)?n[0]:n),i.value=Array.isArray(n)?String(n[1]):"",{wrapper:r,sign:l,firstInput:s,secondInput:i}}const a=t(s,s);return r.append(a),"select"===s?(o.forEach(e=>{const s=t("option","select-option");s.value=e,s.innerHTML=e,a.append(s)}),a.value=String(e[n]),{wrapper:r,sign:l,select:a}):"input"===s?(a.placeholder="type value...",a.value=String(e[n]),{wrapper:r,sign:l,input:a}):void 0};this._configPanel={wrapper:(t=>{const e=document.createElement("div");return t?e.setAttribute("class",`config-panel__${t}`):e.setAttribute("class","config-panel"),e})(),min:s("input","Min:","min"),max:s("input","Max:","max"),step:s("input","Step:","step"),value:s("value","Value:","value"),orientation:s("select","Orientation:","orientation",["horizontal","vertical"]),range:s("select","Range:","range",["min","max","false","true"]),tooltip:s("select","Tooltip:","tooltip",["true","false"]),animate:s("select","Animate:","animate",["fast","slow","false"]),labels:s("select","Labels:","labels",["true","false"]),pips:s("select","Pips:","pips",["false","true"])};const i=Object.values(this._configPanel).slice(1).map(t=>t.wrapper);this._configPanel.wrapper.append(...i)}_refreshSlider(t,e){"object"!=typeof t?this._slider.setOptions(t,e):this._slider.setOptions(t)}_addHandlers(){const t=this._configPanel;Object.keys(t).forEach(e=>{if(Object.prototype.hasOwnProperty.call(t,e)&&"wrapper"!==e){const s=e;if("min"===s||"max"===s||"step"===s||"value"===s)if("value"!==s){const{input:e}=t[s];e.addEventListener("change",()=>{this._checkAndTrimPanel();const t=Number(e.value),i=this._slider.getOptions()[s];try{this._refreshSlider(s,t)}catch(t){alert(t),e.value=String(i)}})}else{const e=t[s],i=()=>{this._checkAndTrimPanel();const t=Number(e.firstInput.value),s="number"==typeof Number(e.secondInput.value)?Number(e.secondInput.value):null,i=this._slider.getOptions(),n=s?[t,s]:[t];let{range:o}=i;1===n.length&&!0===i.range&&(n.push(i.max),o=!0,this._configPanel.value.secondInput.value=String(i.max)),2===n.length&&!0!==i.range&&(o=!0,this._configPanel.range.select.value="true");try{this._refreshSlider({value:1===n.length?n[0]:n,range:o})}catch(t){alert(t),Array.isArray(i.value)?(e.firstInput.value=String(i.value[0]),e.secondInput.value=String(i.value[1])):(e.firstInput.value=String(i.value),e.secondInput.value=""),this._configPanel.range.select.value=String(i.range)}};e.firstInput.addEventListener("change",i),e.secondInput.addEventListener("change",i)}else{const{select:e}=t[s];e.addEventListener("change",()=>{const t="false"!==e.value&&e.value,i="true"===e.value||t,n=this._slider.getOptions();let{value:o}=n;"range"===s&&(!0!==i||Array.isArray(n.value)||(o=[n.value,n.max],this._configPanel.value.secondInput.value=String(n.max)),!0!==i&&Array.isArray(n.value)&&([o]=n.value,this._configPanel.value.secondInput.value=""));try{this._refreshSlider({value:o,[s]:i})}catch(t){alert(t),this._configPanel.value.secondInput.value=String(n.value[1]?n.value[1]:""),e.value=String(n[s])}})}}})}_checkAndTrimPanel(){return["min","max","step","value"].forEach(t=>{if("value"===t){const e=this._configPanel[t],s=e.firstInput.value.trim(),i=e.secondInput.value.trim(),n="number"==typeof Number(s),o=""===s||"number"==typeof Number(s);if(!n||!o)throw new Error("value should be number");e.firstInput.value=s,e.secondInput.value=i}else{const e=this._configPanel[t].input.value.trim();if("number"!=typeof Number(e))throw new Error(`${t} should be number`)}}),!0}}},function(t,e,s){"use strict";var i;s(16),(i=s(17)).keys().map(i)},function(t,e,s){},function(t,e,s){var i={"./config-item/config-item.scss":18,"./header/header.scss":19,"./samples-wrapper/samples-wrapper.scss":20,"./sign/sign.scss":21,"./slider-demo/slider-demo.scss":22,"./slider/slider.scss":23};function n(t){var e=o(t);return s(e)}function o(t){if(!s.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}n.keys=function(){return Object.keys(i)},n.resolve=o,t.exports=n,n.id=17},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){"use strict";var i=s(25);i.keys().forEach(i)},function(t,e,s){var i={"./android-chrome-192x192.png":26,"./android-chrome-512x512.png":27,"./apple-touch-icon.png":28,"./browserconfig.xml":29,"./favicon-16x16.png":30,"./favicon-32x32.png":31,"./favicon.ico":32,"./mstile-150x150.png":33,"./safari-pinned-tab.svg":34,"./site.webmanifest":35};function n(t){var e=o(t);return s(e)}function o(t){if(!s.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}n.keys=function(){return Object.keys(i)},n.resolve=o,t.exports=n,n.id=25},function(t,e,s){t.exports=s.p+"assets/favicons/android-chrome-192x192.png"},function(t,e,s){t.exports=s.p+"assets/favicons/android-chrome-512x512.png"},function(t,e,s){t.exports=s.p+"assets/favicons/apple-touch-icon.png"},function(t,e,s){t.exports=s.p+"assets/favicons/browserconfig.xml"},function(t,e,s){t.exports=s.p+"assets/favicons/favicon-16x16.png"},function(t,e,s){t.exports=s.p+"assets/favicons/favicon-32x32.png"},function(t,e,s){t.exports=s.p+"assets/favicons/favicon.ico"},function(t,e,s){t.exports=s.p+"assets/favicons/mstile-150x150.png"},function(t,e,s){t.exports=s.p+"assets/favicons/safari-pinned-tab.svg"},function(t,e,s){t.exports=s.p+"assets/favicons/site.webmanifest"}]);
//# sourceMappingURL=jquery-slider-demo.js.map