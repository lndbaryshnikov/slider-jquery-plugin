!function(e){var t={};function n(s){if(t[s])return t[s].exports;var r=t[s]={i:s,l:!1,exports:{}};return e[s].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(s,r,function(t){return e[t]}.bind(null,r));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=10)}([function(e,t,n){"use strict";t.a=class{constructor(){this.observers=[]}addObserver(e){if("function"!=typeof e)throw new Error("Observer must be a function");this.observers.forEach(t=>{if(t.toString()===e.toString())throw new Error("Observer already in the list")}),this.observers.push(e)}removeObserver(e){let t=!1;if(this.observers.forEach((n,s)=>{n.toString()===e.toString()&&(this.observers.splice(s,1),t=!0)}),!t)throw new Error("Could not find observer in list of observers")}notifyObservers(e){this.observers.slice(0).forEach(t=>{t(e)})}}},function(e,t){e.exports=jQuery},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var s=n(0);t.default=class{constructor({type:e,wrapper:t}){this.valueChangedSubject=new s.a,this.type=e,this.optionName=t.getAttribute("data-option"),this.item=this.getItem(e,t),this.addListener()}setSelectOptions(e){if("select"===this.type){const t=document.createDocumentFragment();e.forEach(e=>{const n=document.createElement("option");n.setAttribute("class","select-option"),n.value=e,n.innerHTML=e,t.append(n)}),this.item.select.append(t)}}setValue(e){const{type:t,item:n}=this;if("input"===t){const{input:t}=n;t.value=String(e)}if("select"===t){const{select:t}=n;t.value=String(e)}if("range"===t){const{firstInput:t,secondInput:s}=n,[r,i]=Array.isArray(e)?e:[e,""];t.value=String(r),s.value=String(i)}}showError({errorMessage:e,inputNumber:t}){const{type:n,item:s,item:{errorTooltip:r}}=this;let i,o;if("range"===n){i=s[1===t?"firstInput":"secondInput"],o=1===t?"first-input":"second-input"}else"select"===n?(i=s.select,o="select"):"input"===n&&(i=s.input,o="input");r.classList.add("config-item__error-tooltip_visible"),r.innerHTML=e,i.classList.add(`config-item__${o}_color_red`);const a=e=>{e.target!==r&&(r.classList.remove("config-item__error-tooltip_visible"),i.classList.remove(`config-item__${o}_color_red`),document.removeEventListener("click",a),document.removeEventListener("keydown",a))};window.setTimeout(()=>{document.addEventListener("click",a),document.addEventListener("keydown",a)},500)}whenValueChange(e){this.valueChangedSubject.addObserver(t=>{e(t)})}getItem(e,t){const n=t.children;if("input"===e){const[e,s,r]=n;return{wrapper:t,sign:e,input:s,errorTooltip:r}}if("select"===e){const[e,s,r]=n;return{wrapper:t,sign:e,select:s,errorTooltip:r}}if("range"===e){const[e,s,r,i]=n;return{wrapper:t,sign:e,firstInput:s,secondInput:r,errorTooltip:i}}}addListener(){const{type:e}=this,t=e=>{this.valueChangedSubject.notifyObservers({option:this.optionName,value:e})};if("input"===e||"select"===e){const n=n=>{const s=n.target.value.trim(),r="false"!==s&&s,i="true"===s.trim()||r,o="input"===e?Number(s):i;if("input"===e&&"number"!=typeof o)throw new Error(`${this.optionName} should be number`);t(o)};("input"===e?this.item.input:this.item.select).addEventListener("change",n)}else{const e=()=>{const{firstInput:e,secondInput:n}=this.item,s=e.value.trim(),r=n.value.trim(),i="number"==typeof Number(s),o=""===r||"number"==typeof Number(r);if(!i||!o)throw new Error("value should be number");const a=""===r?Number(s):[Number(s),Number(r)];t(a)},{firstInput:n,secondInput:s}=this.item;n.addEventListener("change",e),s.addEventListener("change",e)}}}},function(e,t,n){"use strict";n.r(t);var s=n(0),r=n(3);t.default=class{constructor({root:e,options:t}){this.optionValueChangedSubject=new s.a,this.wrapper=e,this.definePanel(t)}whenOptionValueChange(e){this.optionValueChangedSubject.addObserver(t=>{e(t)})}setValue({option:e,value:t}){this.panel[e].setValue(t)}showError({option:e,errorMessage:t,inputNumber:n}){this.panel[e].showError({errorMessage:t,inputNumber:n})}definePanel(e){const{wrapper:t}=this,n=(n,s,i)=>{const o=t.querySelector(`[data-option='${s}']`),a=new r.default({type:n,wrapper:o}),l=e[s];"select"===n&&i&&a.setSelectOptions(i),a.setValue(l);return a.whenValueChange((()=>e=>{this.optionValueChangedSubject.notifyObservers(e)})()),a};this.panel={min:n("input","min"),max:n("input","max"),step:n("input","step"),value:n("range","value"),orientation:n("select","orientation",["horizontal","vertical"]),range:n("select","range",["min","max","false","true"]),tooltip:n("select","tooltip",["true","false"]),animate:n("select","animate",["fast","slow","false"]),labels:n("select","labels",["true","false"]),pips:n("select","pips",["false","true"])}}}},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"default",(function(){return r}));var s=n(4);class r{constructor(e){this.wrapper=e,this.defineElements(),this.slider.setOptions({change:this.handleSliderValueChange.bind(this)}),this.configPanel.whenOptionValueChange(this.refreshSlider.bind(this))}defineElements(){const t=this.wrapper.querySelector(".js-config-panel"),n=e(this.wrapper.querySelector(".js-slider")),r=n.data("options");n.slider(r);const{slider:i}=n.data("slider"),o=i.getOptions(),a=this.getPanelOptions(o),l=new s.default({root:t,options:a});this.configPanel=l,this.slider=i}handleSliderValueChange(e){this.configPanel.setValue({option:"value",value:e})}refreshSlider({option:e,value:t}){const n=this.slider.getOptions();let s;s="value"===e?this.processNewValue(t):"range"===e?this.processNewRange(t):"step"===e?this.processNewStep(t):"min"===e||"max"===e?this.processNewMinMax({option:e,minOrMax:t}):{newSliderOptions:{[e]:t}};const{newSliderOptions:r,newPanelOptions:i}=s;try{this.slider.setOptions(r),i.forEach(e=>{this.configPanel.setValue(e)})}catch(t){this.configPanel.setValue({option:e,value:n[e]})}}processNewValue(e){const t=this.slider.getOptions(),{value:n,range:s,min:r,max:i,step:o}=t,a=Array.isArray(e)?e:[e],l=!0===s;let{range:u}=t;if(1===a.length){let t;l?(a.push(i),u=!0,t=this.getCorrectedValue({value:a[0],position:"first",min:r,max:i,step:o}),t===i&&(t-=o),e<r?this.configPanel.showError({option:"value",errorMessage:"First value cannot be less than min",inputNumber:1}):e>=i&&this.configPanel.showError({option:"value",errorMessage:"First value cannot be equal or more than max",inputNumber:1})):(t=this.getCorrectedValue({value:a[0],position:"single",min:r,max:i,step:o}),e<r?this.configPanel.showError({option:"value",errorMessage:"Value cannot be less than min",inputNumber:1}):e>i&&this.configPanel.showError({option:"value",errorMessage:"Value cannot be more than max",inputNumber:1})),a[0]=t}else if(2===a.length){l||(u=!0);const t=!l||n[1]!==a[1],s=l&&n[0]!==a[0];let[c,p]=a;const f=(e,t)=>t<e||t===e,[h,m]=e;t&&(p=this.getCorrectedValue({value:p,position:"last",min:r,max:i,step:o}),f(c,p)?(p=c+o,this.configPanel.showError({option:"value",errorMessage:"Second value cannot be equal or less than first",inputNumber:2})):m>i?this.configPanel.showError({option:"value",errorMessage:"Second value cannot be more than max",inputNumber:2}):m<=r&&this.configPanel.showError({option:"value",errorMessage:"Second value cannot be equal or less than min",inputNumber:2})),s&&(c=this.getCorrectedValue({value:c,position:"first",min:r,max:i,step:o}),f(c,p)?(c=p-o,this.configPanel.showError({option:"value",errorMessage:"First value cannot be equal or more than second",inputNumber:1})):h<r?this.configPanel.showError({option:"value",errorMessage:"First value cannot be less than min",inputNumber:1}):h>=i&&this.configPanel.showError({option:"value",errorMessage:"First value cannot be equal or more than max",inputNumber:1})),a[0]=c,a[1]=p}const c=1===a.length?a[0]:a;return{newPanelOptions:[{option:"range",value:"true"},{option:"value",value:c}],newSliderOptions:{value:c,range:u}}}processNewRange(e){const t=this.slider.getOptions(),{value:n,max:s}=t;let{value:r}=t;return!0===e&&!Array.isArray(n)&&(r=[n,s]),!0!==e&&Array.isArray(n)&&([r]=n),{newPanelOptions:[{option:"value",value:r}],newSliderOptions:{value:r,range:e}}}processNewStep(e){const t=this.slider.getOptions(),{value:n,min:s,max:r}=t;let i,o=e;const a=(r-s)%o!=0;if(o=o>0?o:1,a){const e=`'${o}' - incorrect step, because it's not multiple of 'max' and 'min' difference`;this.configPanel.showError({option:"step",errorMessage:e})}else if("number"==typeof n)i=this.getClosestCorrectValue({value:n,step:o,min:s});else if(Array.isArray(n)){let[e,t]=n;e=this.getClosestCorrectValue({value:e,step:o,min:s}),t=this.getClosestCorrectValue({value:t,step:o,min:s}),e===t&&(e===s?t=s+o:t===r?e=r-o:t=e+o),i=[e,t]}return{newPanelOptions:[{option:"max",value:r},{option:"value",value:i},{option:"step",value:o}],newSliderOptions:{max:r,value:i,step:o}}}processNewMinMax({option:e,minOrMax:t}){const n=this.slider.getOptions(),{value:s,min:r,max:i,step:o}=n;let{min:a,max:l,value:u,step:c}=n;"min"===e&&(a=t,a>=i&&(l=a+o)),"max"===e&&(l=t,l<=r&&(a=l-o));const p=i-r,f=l-a,h=({difference:e,step:t})=>e%t==0;if(!h({difference:f,step:o})){for(;!h({difference:f,step:c})||!h({difference:p,step:c});)if(c-=.5,0===c){c=o;break}const t=`Step should be multiple to 'max - min'.${c!==o?`You can use step equals ${c}.`:""}`;this.configPanel.showError({option:e,errorMessage:t}),a=r,l=i}if("number"==typeof s&&(u=this.getCorrectedValue({value:s,position:"single",min:a,max:l,step:o})),Array.isArray(s)){u=[this.getCorrectedValue({value:s[0],position:"first",min:a,max:l,step:o}),this.getCorrectedValue({value:s[1],position:"last",min:a,max:l,step:o})]}return{newPanelOptions:[{option:"max",value:l},{option:"min",value:a},{option:"value",value:u}],newSliderOptions:{min:a,max:l,value:u}}}getPanelOptions(e){const t={...e};return delete t.change,t}getClosestCorrectValue({value:e,step:t,min:n}){const s=e-n;return(s%t!=0?Math.round(s/t)*t:s)+n}getCorrectedValue({value:e,position:t,min:n,max:s,step:r}){let i;if("single"===t){const t=e>s?s:this.getClosestCorrectValue({value:e,step:r,min:n});i=e<n?n:t}if("first"===t){const t=e>s||e===s?s-r:this.getClosestCorrectValue({value:e,step:r,min:n});i=e<n?n:t}if("last"===t){const t=e>s?s:this.getClosestCorrectValue({value:e,step:r,min:n});i=e<n||e===n?n+r:t}return i}}}.call(this,n(1))},,,,,function(e,t,n){"use strict";n.r(t);var s;n(2),n(11),n(23);(s=n(24)).keys().map(s)},function(e,t,n){"use strict";var s=n(12);s.keys().forEach(s)},function(e,t,n){var s={"./android-chrome-192x192.png":13,"./android-chrome-512x512.png":14,"./apple-touch-icon.png":15,"./browserconfig.xml":16,"./favicon-16x16.png":17,"./favicon-32x32.png":18,"./favicon.ico":19,"./mstile-150x150.png":20,"./safari-pinned-tab.svg":21,"./site.webmanifest":22};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}r.keys=function(){return Object.keys(s)},r.resolve=i,e.exports=r,r.id=12},function(e,t,n){e.exports=n.p+"assets/favicons/android-chrome-192x192.png"},function(e,t,n){e.exports=n.p+"assets/favicons/android-chrome-512x512.png"},function(e,t,n){e.exports=n.p+"assets/favicons/apple-touch-icon.png"},function(e,t,n){e.exports=n.p+"assets/favicons/browserconfig.xml"},function(e,t,n){e.exports=n.p+"assets/favicons/favicon-16x16.png"},function(e,t,n){e.exports=n.p+"assets/favicons/favicon-32x32.png"},function(e,t,n){e.exports=n.p+"assets/favicons/favicon.ico"},function(e,t,n){e.exports=n.p+"assets/favicons/mstile-150x150.png"},function(e,t,n){e.exports=n.p+"assets/favicons/safari-pinned-tab.svg"},function(e,t,n){e.exports=n.p+"assets/favicons/site.webmanifest"},function(e,t,n){},function(e,t,n){var s={"./config-item/ConfigItem.ts":3,"./config-item/config-item.scss":25,"./config-panel/ConfigPanel.ts":4,"./config-panel/config-panel.scss":26,"./slider-panel/SliderPanel.ts":5,"./slider-panel/slider-panel.scss":27,"./slider-panel/sliderPanelInit.ts":28};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}r.keys=function(){return Object.keys(s)},r.resolve=i,e.exports=r,r.id=24},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),function(e){var t=n(5);e(".js-slider-panel").each((e,n)=>{new t.default(n)})}.call(this,n(1))}]);
//# sourceMappingURL=jquery-slider-demo.js.map