!function(e){var t={};function n(s){if(t[s])return t[s].exports;var i=t[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(s,i,function(t){return e[t]}.bind(null,i));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=13)}([function(e,t,n){"use strict";t.a=class{constructor(){this.observers=[]}addObserver(e){if("function"!=typeof e)throw new Error("Observer must be a function");for(let t=0;t<this.observers.length;t+=1)if(this.observers[t].toString()===e.toString())throw new Error("Observer already in the list");this.observers.push(e)}removeObserver(e){for(let t=0;t<this.observers.length;t+=1)if(this.observers[t].toString()===e.toString())return void this.observers.splice(t,1);throw new Error("Could not find observer in list of observers")}notifyObservers(e){const t=this.observers.slice(0);for(let n=0;n<t.length;n+=1)t[n](e)}}},,function(e,t){e.exports=jQuery},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var s=n(0);t.default=class{constructor({type:e,wrapper:t}){this.valueChangedSubject=new s.a,this.type=e,this.optionName=t.getAttribute("data-option"),this.item=this._getItem(e,t),this._addListener()}setSelectOptions(e){if("select"===this.type){const t=document.createDocumentFragment();e.forEach(e=>{const n=document.createElement("option");n.setAttribute("class","select-option"),n.value=e,n.innerHTML=e,t.append(n)}),this.item.select.append(t)}}setValue(e){const{type:t,item:n}=this;if("input"===t){const{input:t}=n;t.value=String(e)}if("select"===t){const{select:t}=n;t.value=String(e)}if("range"===t){const{firstInput:t,secondInput:s}=n,i="number"==typeof e,[o,r]=i?[e,""]:e;t.value=String(o),s.value=String(r)}}showError(e){const{type:t,item:n,item:{errorTooltip:s}}=this,i=[],o=[];"range"===t?(i.push(n.firstInput,n.secondInput),o.push("firstInput","secondInput")):"select"===t?(i.push(n.select),o.push("select")):"input"===t&&(i.push(n.input),o.push("input")),s.classList.add("config-item__error-tooltip_visible"),s.innerHTML=e,i.forEach((e,t)=>{e.classList.add(`config-item__${o[t]}_color_red`)});const r=e=>{e.target!==s&&(s.classList.remove("config-item__error-tooltip_visible"),i.forEach((e,t)=>{e.classList.remove(`config-item__${o[t]}_color_red`)}),document.removeEventListener("click",r))};window.setTimeout(()=>{document.addEventListener("click",r)},500)}whenValueChange(e){this.valueChangedSubject.addObserver(t=>{e(t)})}_getItem(e,t){const{children:n}=t;if("input"===e){const[e,s,i]=n;return{wrapper:t,sign:e,input:s,errorTooltip:i}}if("select"===e){const[e,s,i]=n;return{wrapper:t,sign:e,select:s,errorTooltip:i}}if("range"===e){const[e,s,i,o]=n;return{wrapper:t,sign:e,firstInput:s,secondInput:i,errorTooltip:o}}}_addListener(){const{type:e}=this,t=e=>{this.valueChangedSubject.notifyObservers({option:this.optionName,value:e})};if("input"===e||"select"===e){const n=n=>{const s=n.target.value.trim(),i="false"!==s&&s,o="true"===s.trim()||i,r="input"===e?Number(s):o;if("input"===e&&"number"!=typeof r)throw new Error(`${this.optionName} should be number`);t(r)};("input"===e?this.item.input:this.item.select).addEventListener("change",n)}else{const e=()=>{const{firstInput:e,secondInput:n}=this.item,s=e.value.trim(),i=n.value.trim(),o="number"==typeof Number(s),r=""===i||"number"==typeof Number(i);if(!o||!r)throw new Error("value should be number");const a=""===i?Number(s):[Number(s),Number(i)];t(a)},{firstInput:n,secondInput:s}=this.item;n.addEventListener("change",e),s.addEventListener("change",e)}}}},function(e,t,n){"use strict";n.r(t);var s=n(0),i=n(5);t.default=class{constructor({root:e,options:t}){this.optionValueChangedSubject=new s.a,this.wrapper=e,this._definePanel(t)}whenOptionValueChange(e){this.optionValueChangedSubject.addObserver(t=>{e(t)})}setValue({option:e,value:t}){this.panel[e].setValue(t)}showError({option:e,errorMessage:t}){this.panel[e].showError(t)}_definePanel(e){const{wrapper:t}=this,n=(n,s,o)=>{const r=t.querySelector(`[data-option='${s}']`),a=new i.default({type:n,wrapper:r}),l=e[s];"select"===n&&o&&a.setSelectOptions(o),a.setValue(l);return a.whenValueChange((()=>e=>{this.optionValueChangedSubject.notifyObservers(e)})()),a};this.panel={min:n("input","min"),max:n("input","max"),step:n("input","step"),value:n("range","value"),orientation:n("select","orientation",["horizontal","vertical"]),range:n("select","range",["min","max","false","true"]),tooltip:n("select","tooltip",["true","false"]),animate:n("select","animate",["fast","slow","false"]),labels:n("select","labels",["true","false"]),pips:n("select","pips",["false","true"])}}}},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"default",(function(){return i}));var s=n(6);class i{constructor(e){this.wrapper=e,this._defineElements();this.slider.setOptions("change",e=>{this.configPanel.setValue({option:"value",value:e})}),this.configPanel.whenOptionValueChange(this._makeRefreshSliderCallback())}_defineElements(){const t=this.wrapper.querySelector(".js-config-panel"),n=e(this.wrapper.querySelector(".js-slider")),i=n.data("options");n.slider(i);const{slider:o}=n.data("slider"),r=o.getOptions(),a=this._getPanelOptions(r),l=new s.default({root:t,options:a});this.configPanel=l,this.slider=o}_makeRefreshSliderCallback(){return({option:e,value:t})=>{const n=this.slider.getOptions(),{value:s,range:i,min:o,max:r,step:a}=n,l={},u=[],c=({value:e,step:t,min:n})=>{const s=e-n;return(s%t!=0?Math.round(s/t)*t:s)+n},p=({value:e,position:t,min:n,max:s,step:i})=>{let o;if("single"===t){const t=e>s?s:c({value:e,step:i,min:n});o=e<n?n:t}if("first"===t){const t=e>s||e===s?s-i:c({value:e,step:i,min:n});o=e<n?n:t}if("last"===t){const t=e>s?s:c({value:e,step:i,min:n});o=e<n||e===n?n+i:t}return o};if("value"===e){let{range:e}=n;const c="number"==typeof t?[t]:t,f=e=>1===e.length,h=e=>2===e.length,d=!0===i;if(f(c)){let t;d?(c.push(n.max),e=!0,t=p({value:c[0],position:"first",min:o,max:r,step:a}),t===r&&(t-=a)):t=p({value:c[0],position:"single",min:o,max:r,step:a}),c[0]=t}if(h(c)){d||(e=!0);const t=!d||s[1]!==c[1],n=d&&s[0]!==c[0];let[i,l]=c;const u=(e,t)=>t<e||t===e;t&&(l=p({value:l,position:"last",min:o,max:r,step:a}),u(i,l)&&(i=l-a)),n&&(i=p({value:i,position:"first",min:o,max:r,step:a}),u(i,l)&&(l=i+a)),c[0]=i,c[1]=l}u.push({option:"range",value:"true"},{option:"value",value:f(c)?c[0]:c}),Object.assign(l,{value:f(c)?c[0]:c,range:e})}else if("range"===e){let{value:e}=n;!0===t&&!Array.isArray(s)&&(e=[s,n.max]),!0!==t&&Array.isArray(s)&&([e]=s),u.push({option:"value",value:e}),Object.assign(l,{value:e,range:t})}else if("step"===e){let e,n=t;const i=(r-o)%n!=0;if(n=n>0?n:1,i){const e=`'${n}' - incorrect step, because it's not multiple of 'max' and 'min' difference`;this.configPanel.showError({option:"step",errorMessage:e})}else if("number"==typeof s)e=c({value:s,step:n,min:o});else if(Array.isArray(s)){let[t,i]=s;t=c({value:t,step:n,min:o}),i=c({value:i,step:n,min:o}),t===i&&(t===o?i=o+n:i===r?t=r-n:i=t+n),e=[t,i]}u.push({option:"max",value:r},{option:"value",value:e},{option:"step",value:n}),Object.assign(l,{max:r,value:e,step:n})}else if("min"===e||"max"===e){let{min:i,max:c,value:f,step:h}=n;"min"===e&&(i=t,i>=r&&(c=i+a)),"max"===e&&(c=t,c<=o&&(i=c-a));const d=c-i;for(;d%h!=0;)if(h-=.5,0===h){h=a;break}if("number"==typeof s&&(f=p({value:s,position:"single",min:i,max:c,step:h})),Array.isArray(s)){f=[p({value:s[0],position:"first",min:i,max:c,step:h}),p({value:s[1],position:"last",min:i,max:c,step:h})]}u.push({option:"max",value:c},{option:"min",value:i},{option:"step",value:h},{option:"value",value:f}),Object.assign(l,{step:h,min:i,max:c,value:f})}else Object.assign(l,{[e]:t});try{this.slider.setOptions(l),u.forEach(e=>{this.configPanel.setValue(e)})}catch(t){console.log(t),this.configPanel.setValue({option:e,value:n[e]})}const f=this.slider.getOptions(),{max:h,min:d,step:m,labels:v,pips:g}=f,b=!!v,x=(h-d)/m+1,y=x>16,w=x>51,O=(!b||!y)&&v,_=(!!!g||!w)&&(!(!b||!y)||g),E=_!==g,S="labels"===e,j="pips"===e;O!==v&&(this.slider.setOptions("labels",O),this.configPanel.setValue({option:"labels",value:O})),E&&(this.slider.setOptions("pips",_),this.configPanel.setValue({option:"pips",value:_})),S&&y&&this.configPanel.showError({option:"labels",errorMessage:"Labels cannot be shown - number of labels exceeded"}),j&&w&&this.configPanel.showError({option:"pips",errorMessage:"Pips cannot be shown - number of pips exceeded"})}}_getPanelOptions(t){const n=e.extend(!0,{},t);return delete n.change,delete n.classes,n}}}.call(this,n(2))},,,,,,function(e,t,n){"use strict";n.r(t);n(14),n(4),n(15),n(27)},function(e,t,n){},function(e,t,n){"use strict";var s=n(16);s.keys().forEach(s)},function(e,t,n){var s={"./android-chrome-192x192.png":17,"./android-chrome-512x512.png":18,"./apple-touch-icon.png":19,"./browserconfig.xml":20,"./favicon-16x16.png":21,"./favicon-32x32.png":22,"./favicon.ico":23,"./mstile-150x150.png":24,"./safari-pinned-tab.svg":25,"./site.webmanifest":26};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}i.keys=function(){return Object.keys(s)},i.resolve=o,e.exports=i,i.id=16},function(e,t,n){e.exports=n.p+"assets/favicons/android-chrome-192x192.png"},function(e,t,n){e.exports=n.p+"assets/favicons/android-chrome-512x512.png"},function(e,t,n){e.exports=n.p+"assets/favicons/apple-touch-icon.png"},function(e,t,n){e.exports=n.p+"assets/favicons/browserconfig.xml"},function(e,t,n){e.exports=n.p+"assets/favicons/favicon-16x16.png"},function(e,t,n){e.exports=n.p+"assets/favicons/favicon-32x32.png"},function(e,t,n){e.exports=n.p+"assets/favicons/favicon.ico"},function(e,t,n){e.exports=n.p+"assets/favicons/mstile-150x150.png"},function(e,t,n){e.exports=n.p+"assets/favicons/safari-pinned-tab.svg"},function(e,t,n){e.exports=n.p+"assets/favicons/site.webmanifest"},function(e,t,n){"use strict";var s;(s=n(28)).keys().map(s)},function(e,t,n){var s={"./config-item/ConfigItem.ts":5,"./config-item/config-item.scss":29,"./config-panel/ConfigPanel.ts":6,"./config-panel/config-panel.scss":30,"./slider-panel/SliderPanel.ts":7,"./slider-panel/slider-panel.scss":31,"./slider-panel/sliderPanelInit.ts":32,"./slider/slider.scss":33};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}i.keys=function(){return Object.keys(s)},i.resolve=o,e.exports=i,i.id=28},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),function(e){var t=n(7);e(".js-slider-panel").each((e,n)=>{new t.default(n)})}.call(this,n(2))},function(e,t,n){}]);
//# sourceMappingURL=jquery-slider-demo.js.map