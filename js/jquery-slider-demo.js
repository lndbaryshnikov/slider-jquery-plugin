!function(e){var t={};function n(s){if(t[s])return t[s].exports;var i=t[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(s,i,function(t){return e[t]}.bind(null,i));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=13)}([,function(e,t,n){"use strict";t.a=class{constructor(){this.observers=[]}addObserver(e){if("function"!=typeof e)throw new Error("Observer must be a function");for(let t=0;t<this.observers.length;t+=1)if(this.observers[t].toString()===e.toString())throw new Error("Observer already in the list");this.observers.push(e)}removeObserver(e){for(let t=0;t<this.observers.length;t+=1)if(this.observers[t].toString()===e.toString())return void this.observers.splice(t,1);throw new Error("Could not find observer in list of observers")}notifyObservers(e){const t=this.observers.slice(0);for(let n=0;n<t.length;n+=1)t[n](e)}}},function(e,t){e.exports=jQuery},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var s=n(1);t.default=class{constructor({type:e,wrapper:t}){this.valueChangedSubject=new s.a,this.type=e,this.optionName=t.getAttribute("data-option"),this.item=this._getItem(e,t),this._addListener()}setSelectOptions(e){if("select"===this.type){const t=document.createDocumentFragment();e.forEach(e=>{const n=document.createElement("option");n.setAttribute("class","select-option"),n.value=e,n.innerHTML=e,t.append(n)}),this.item.select.append(t)}}setValue(e){const{type:t,item:n}=this;if("input"===t){const{input:t}=n;t.value=String(e)}if("select"===t){const{select:t}=n;t.value=String(e)}if("range"===t){const{firstInput:t,secondInput:s}=n,i="number"==typeof e,[r,o]=i?[e,""]:e;t.value=String(r),s.value=String(o)}}showError({errorMessage:e,inputNumber:t}){const{type:n,item:s,item:{errorTooltip:i}}=this;let r,o;if("range"===n){const e=1===t?"firstInput":"secondInput";r=s[e],o=e}else"select"===n?(r=s.select,o="select"):"input"===n&&(r=s.input,o="input");i.classList.add("config-item__error-tooltip_visible"),i.innerHTML=e,r.classList.add(`config-item__${o}_color_red`);const a=e=>{e.target!==i&&(i.classList.remove("config-item__error-tooltip_visible"),r.classList.remove(`config-item__${o}_color_red`),document.removeEventListener("click",a))};window.setTimeout(()=>{document.addEventListener("click",a)},500)}whenValueChange(e){this.valueChangedSubject.addObserver(t=>{e(t)})}_getItem(e,t){const{children:n}=t;if("input"===e){const[e,s,i]=n;return{wrapper:t,sign:e,input:s,errorTooltip:i}}if("select"===e){const[e,s,i]=n;return{wrapper:t,sign:e,select:s,errorTooltip:i}}if("range"===e){const[e,s,i,r]=n;return{wrapper:t,sign:e,firstInput:s,secondInput:i,errorTooltip:r}}}_addListener(){const{type:e}=this,t=e=>{this.valueChangedSubject.notifyObservers({option:this.optionName,value:e})};if("input"===e||"select"===e){const n=n=>{const s=n.target.value.trim(),i="false"!==s&&s,r="true"===s.trim()||i,o="input"===e?Number(s):r;if("input"===e&&"number"!=typeof o)throw new Error(`${this.optionName} should be number`);t(o)};("input"===e?this.item.input:this.item.select).addEventListener("change",n)}else{const e=()=>{const{firstInput:e,secondInput:n}=this.item,s=e.value.trim(),i=n.value.trim(),r="number"==typeof Number(s),o=""===i||"number"==typeof Number(i);if(!r||!o)throw new Error("value should be number");const a=""===i?Number(s):[Number(s),Number(i)];t(a)},{firstInput:n,secondInput:s}=this.item;n.addEventListener("change",e),s.addEventListener("change",e)}}}},function(e,t,n){"use strict";n.r(t);var s=n(1),i=n(5);t.default=class{constructor({root:e,options:t}){this.optionValueChangedSubject=new s.a,this.wrapper=e,this._definePanel(t)}whenOptionValueChange(e){this.optionValueChangedSubject.addObserver(t=>{e(t)})}setValue({option:e,value:t}){this.panel[e].setValue(t)}showError({option:e,errorMessage:t,inputNumber:n}){this.panel[e].showError({errorMessage:t,inputNumber:n})}_definePanel(e){const{wrapper:t}=this,n=(n,s,r)=>{const o=t.querySelector(`[data-option='${s}']`),a=new i.default({type:n,wrapper:o}),l=e[s];"select"===n&&r&&a.setSelectOptions(r),a.setValue(l);return a.whenValueChange((()=>e=>{this.optionValueChangedSubject.notifyObservers(e)})()),a};this.panel={min:n("input","min"),max:n("input","max"),step:n("input","step"),value:n("range","value"),orientation:n("select","orientation",["horizontal","vertical"]),range:n("select","range",["min","max","false","true"]),tooltip:n("select","tooltip",["true","false"]),animate:n("select","animate",["fast","slow","false"]),labels:n("select","labels",["true","false"]),pips:n("select","pips",["false","true"])}}}},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"default",(function(){return i}));var s=n(6);class i{constructor(e){this.wrapper=e,this._defineElements();this.slider.setOptions("change",e=>{this.configPanel.setValue({option:"value",value:e})}),this.configPanel.whenOptionValueChange(this._makeRefreshSliderCallback())}_defineElements(){const t=this.wrapper.querySelector(".js-config-panel"),n=e(this.wrapper.querySelector(".js-slider")),i=n.data("options");n.slider(i);const{slider:r}=n.data("slider"),o=r.getOptions(),a=this._getPanelOptions(o),l=new s.default({root:t,options:a});this.configPanel=l,this.slider=r}_makeRefreshSliderCallback(){return({option:e,value:t})=>{const n=this.slider.getOptions(),{value:s,range:i,min:r,max:o,step:a}=n,l={},u=[],c=({value:e,step:t,min:n})=>{const s=e-n;return(s%t!=0?Math.round(s/t)*t:s)+n},p=({value:e,position:t,min:n,max:s,step:i})=>{let r;if("single"===t){const t=e>s?s:c({value:e,step:i,min:n});r=e<n?n:t}if("first"===t){const t=e>s||e===s?s-i:c({value:e,step:i,min:n});r=e<n?n:t}if("last"===t){const t=e>s?s:c({value:e,step:i,min:n});r=e<n||e===n?n+i:t}return r};if("value"===e){let{range:e}=n;const c="number"==typeof t?[t]:t,f=e=>1===e.length,m=e=>2===e.length,d=!0===i;if(f(c)){let t;d?(c.push(n.max),e=!0,t=p({value:c[0],position:"first",min:r,max:o,step:a}),t===o&&(t-=a)):t=p({value:c[0],position:"single",min:r,max:o,step:a}),c[0]=t}if(m(c)){d||(e=!0);const t=!d||s[1]!==c[1],n=d&&s[0]!==c[0];let[i,l]=c;const u=(e,t)=>t<e||t===e;t&&(l=p({value:l,position:"last",min:r,max:o,step:a}),u(i,l)&&(l=i+a)),n&&(i=p({value:i,position:"first",min:r,max:o,step:a}),u(i,l)&&(i=l-a)),c[0]=i,c[1]=l}u.push({option:"range",value:"true"},{option:"value",value:f(c)?c[0]:c}),Object.assign(l,{value:f(c)?c[0]:c,range:e})}else if("range"===e){let{value:e}=n;!0===t&&!Array.isArray(s)&&(e=[s,n.max]),!0!==t&&Array.isArray(s)&&([e]=s),u.push({option:"value",value:e}),Object.assign(l,{value:e,range:t})}else if("step"===e){let e,n=t;const i=(o-r)%n!=0;if(n=n>0?n:1,i){const e=`'${n}' - incorrect step, because it's not multiple of 'max' and 'min' difference`;this.configPanel.showError({option:"step",errorMessage:e})}else if("number"==typeof s)e=c({value:s,step:n,min:r});else if(Array.isArray(s)){let[t,i]=s;t=c({value:t,step:n,min:r}),i=c({value:i,step:n,min:r}),t===i&&(t===r?i=r+n:i===o?t=o-n:i=t+n),e=[t,i]}u.push({option:"max",value:o},{option:"value",value:e},{option:"step",value:n}),Object.assign(l,{max:o,value:e,step:n})}else if("min"===e||"max"===e){let{min:i,max:c,value:f,step:m}=n;"min"===e&&(i=t,i>=o&&(c=i+a)),"max"===e&&(c=t,c<=r&&(i=c-a));const d=o-r,v=c-i,h=({difference:e,step:t})=>e%t==0;if(!h({difference:v,step:a})){for(;!h({difference:v,step:m})||!h({difference:d,step:m});)if(m-=.5,0===m){m=a;break}const t=`Step should be multiple to 'max - min'.${m!==a?`You can use step equals ${m}.`:""}`;this.configPanel.showError({option:e,errorMessage:t}),i=r,c=o}if("number"==typeof s&&(f=p({value:s,position:"single",min:i,max:c,step:a})),Array.isArray(s)){f=[p({value:s[0],position:"first",min:i,max:c,step:a}),p({value:s[1],position:"last",min:i,max:c,step:a})]}u.push({option:"max",value:c},{option:"min",value:i},{option:"value",value:f}),Object.assign(l,{min:i,max:c,value:f})}else Object.assign(l,{[e]:t});try{this.slider.setOptions(l),u.forEach(e=>{this.configPanel.setValue(e)})}catch(t){this.configPanel.setValue({option:e,value:n[e]})}}}_getPanelOptions(t){const n=e.extend(!0,{},t);return delete n.change,delete n.classes,n}}}.call(this,n(2))},,,,,,function(e,t,n){"use strict";n.r(t);var s;n(14),n(4),n(15);(s=n(27)).keys().map(s)},function(e,t,n){},function(e,t,n){"use strict";var s=n(16);s.keys().forEach(s)},function(e,t,n){var s={"./android-chrome-192x192.png":17,"./android-chrome-512x512.png":18,"./apple-touch-icon.png":19,"./browserconfig.xml":20,"./favicon-16x16.png":21,"./favicon-32x32.png":22,"./favicon.ico":23,"./mstile-150x150.png":24,"./safari-pinned-tab.svg":25,"./site.webmanifest":26};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}i.keys=function(){return Object.keys(s)},i.resolve=r,e.exports=i,i.id=16},function(e,t,n){e.exports=n.p+"assets/favicons/android-chrome-192x192.png"},function(e,t,n){e.exports=n.p+"assets/favicons/android-chrome-512x512.png"},function(e,t,n){e.exports=n.p+"assets/favicons/apple-touch-icon.png"},function(e,t,n){e.exports=n.p+"assets/favicons/browserconfig.xml"},function(e,t,n){e.exports=n.p+"assets/favicons/favicon-16x16.png"},function(e,t,n){e.exports=n.p+"assets/favicons/favicon-32x32.png"},function(e,t,n){e.exports=n.p+"assets/favicons/favicon.ico"},function(e,t,n){e.exports=n.p+"assets/favicons/mstile-150x150.png"},function(e,t,n){e.exports=n.p+"assets/favicons/safari-pinned-tab.svg"},function(e,t,n){e.exports=n.p+"assets/favicons/site.webmanifest"},function(e,t,n){var s={"./config-item/ConfigItem.ts":5,"./config-item/config-item.scss":28,"./config-panel/ConfigPanel.ts":6,"./config-panel/config-panel.scss":29,"./slider-panel/SliderPanel.ts":7,"./slider-panel/slider-panel.scss":30,"./slider-panel/sliderPanelInit.ts":31,"./slider/slider.scss":32};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}i.keys=function(){return Object.keys(s)},i.resolve=r,e.exports=i,i.id=27},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),function(e){var t=n(7);e(".js-slider-panel").each((e,n)=>{new t.default(n)})}.call(this,n(2))},function(e,t,n){}]);
//# sourceMappingURL=jquery-slider-demo.js.map